{"version":3,"sources":["scripts/dev/View/ProductSelect.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;QAGM,aAAa;iBAAb,aAAa;kCAAb,aAAa;;uCAAb,aAAa;;;kBAAb,aAAa;;qBAAb,aAAa;;;;mBAER,mBAAG;AACN,uBAAO,QAAQ,CAAC;aACnB;;;mBAEK,kBAAG;AACL,uBAAO;AACH,4BAAQ,EAAE,IAAI,CAAC,QAAQ;iBAC1B,CAAC;aACL;;;mBAES,sBAAG;AACT,oBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;;AAEhE,oBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aAChC;;;mBAEgB,2BAAC,UAAU,EAAE;AAC1B,oBAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;AACjB,oBAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;aAC3B;;;mBAEO,kBAAC,GAAG,EAAE;AACV,oBAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,EAAE,qBAAS,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC,CAAC;aAC3E;;;mBAEK,gBAAC,UAAU,EAAE;;;;;;AACf,yCAAmB,UAAU,CAAC,MAAM,8HAAE;4BAA9B,OAAO;;AACX,4BAAI,MAAM,GAAI,+BAAkB,EAAC,KAAK,EAAE,OAAO,EAAC,CAAC,CAAE;;AAEnD,4BAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,OAAO,CAAC,EAAE,EAAE;AACzC,kCAAM,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;yBACpC;;AAED,4BAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;qBAC/B;;;;;;;;;;;;;;;aACJ;;;eArCC,aAAa;OAAS,qBAAS,IAAI;;qBAwC1B,aAAa","file":"scripts/dev/View/ProductSelect.js","sourcesContent":["import Backbone from 'libs/backbone'\nimport ProductOption from './ProductOption'\n\nclass ProductSelect extends Backbone.View {\n    //noinspection JSMethodCanBeStatic\n    tagName() {\n        return 'select';\n    }\n\n    events() {\n        return {\n            'change': this.onChange\n        };\n    }\n\n    initialize() {\n        this.listenTo(this.collection, 'reset', this.onCollectionReset);\n\n        this.render(this.collection);\n    }\n\n    onCollectionReset(collection) {\n        this.$el.empty();\n        this.render(collection);\n    }\n\n    onChange(evt) {\n        this.model.set('product', Backbone.$(evt.target).val(), {silent: true});\n    }\n\n    render(collection) {\n        for(let product of collection.models) {\n            let option = (new ProductOption({model: product}));\n\n            if (this.model.get('product') == product.id) {\n                option.$el.prop('checked', true);\n            }\n\n            this.$el.append(option.$el);\n        }\n    }\n}\n\nexport default ProductSelect;"]}