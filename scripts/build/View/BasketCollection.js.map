{"version":3,"sources":["scripts/dev/View/BasketCollection.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;QAIM,gBAAgB;iBAAhB,gBAAgB;kCAAhB,gBAAgB;;uCAAhB,gBAAgB;;;kBAAhB,gBAAgB;;qBAAhB,gBAAgB;;;;mBAGX,mBAAG;AACN,uBAAO,IAAI,CAAC;aACf;;;;;mBAGS,sBAAG;AACT,uBAAO;AACH,2BAAO,EAAG,aAAa;iBAC1B,CAAA;aACJ;;;mBAES,sBAAG;AACT,oBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;;AAEhE,sCAAU,UAAU,EAAE,CAAC,IAAI,CAAC,qBAAS,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC,CAAC;aAC9E;;;mBAEe,0BAAC,WAAW,EAAE;AAC1B,uBAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;;AAEzB,oBAAI,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,EAAE,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC,CAAC;aACrD;;;mBAEgB,2BAAC,UAAU,EAAE;AAC1B,oBAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;AACjB,oBAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;aAC3B;;;mBAEK,gBAAC,UAAU,EAAE;;;;;;AACf,yCAAkB,UAAU,CAAC,MAAM,8HAAE;4BAA7B,MAAM;;AACV,4BAAI,CAAC,GAAG,CAAC,MAAM,CAAC,2BAAgB,EAAC,KAAK,EAAE,MAAM,EAAC,CAAC,CAAE,GAAG,CAAC,CAAC;qBAC1D;;;;;;;;;;;;;;;aACJ;;;eAnCC,gBAAgB;OAAS,qBAAS,IAAI;;qBAsC7B,gBAAgB","file":"scripts/dev/View/BasketCollection.js","sourcesContent":["import Backbone from 'libs/backbone'\nimport BasketView from './Basket'\nimport rpcClient from 'Service/JsonRpcClient'\n\nclass BasketCollection extends Backbone.View {\n\n    //noinspection JSMethodCanBeStatic\n    tagName() {\n        return 'ul';\n    }\n\n    //noinspection JSMethodCanBeStatic\n    attributes() {\n        return {\n            'class' : 'basket-list'\n        }\n    }\n\n    initialize() {\n        this.listenTo(this.collection, 'reset', this.onCollectionReset);\n\n        rpcClient.getBaskets().then(Backbone.$.proxy(this.onBasketsFetched, this));\n    }\n\n    onBasketsFetched(basketsData) {\n        console.log(basketsData);\n\n        this.collection.reset(basketsData, {parse: true});\n    }\n\n    onCollectionReset(collection) {\n        this.$el.empty();\n        this.render(collection);\n    }\n\n    render(collection) {\n        for(let basket of collection.models) {\n            this.$el.append((new BasketView({model: basket})).$el);\n        }\n    }\n}\n\nexport default BasketCollection;"]}